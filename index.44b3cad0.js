var{FBXLoader:t}=require("three/examples/jsm/loaders/FBXLoader");require("three/examples/jsm/loaders/MTLLoader"),require("three/examples/jsm/loaders/OBJLoader");var{TrackballControls:e}=require("three/examples/jsm/controls/TrackballControls"),{OrbitControls:n}=require("three/examples/jsm/controls/OrbitControls"),r=require("three");require("react-app-polyfill/ie11");var i,o,a,s,c,u,h,_,p,l,f,d,y,v,m,w,g,b,{render:E}=require("react-dom"),x=require("react"),k=(i={},o=x,Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})})),i),{createElement:L}=x,G=!1;function P(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){P(o,r,i,a,s,"next",t)}function s(t){P(o,r,i,a,s,"throw",t)}a(void 0)}))}}function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function I(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){return console.clear(),"\n\n   ______________________________    . \\  | / .\n  /                            / \\     \\ \\ / /\n |                            | ==========  - -\n  \\____________________________\\_/     / / \\ \\\n  ______________________________      \\  | / | \\\n /                            / \\     \\ \\ / /.   .\n|                            | ==========  - -\n \\____________________________\\_/     / / \\ \\    /\n   ______________________________   / |\\  | /  .\n  /                            / \\     \\ \\ / /\n |                            | ==========  -  - -\n  \\____________________________\\_/     / / \\ \\\n                                     .  / | \\  .\n\n  Are you trying to wreak havoc!?!\n\n  "+t+"\n\n  Idiot.\n\n  "}function O(t){if(void 0===t&&(t="threejs-canvas-container"),!document.getElementById(t))throw new Error("Can't find div of id "+t);new b(t).init()}var A,M,F,H,V,R,T,q,D,N,B,z,W,Y,X,$=!1;function Q(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function J(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Q(o,r,i,a,s,"next",t)}function s(t){Q(o,r,i,a,s,"throw",t)}a(void 0)}))}}function K(){return(K=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function U(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Z(t,e)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){return console.clear(),"\n\n   ______________________________    . \\  | / .\n  /                            / \\     \\ \\ / /\n |                            | ==========  - -\n  \\____________________________\\_/     / / \\ \\\n  ______________________________      \\  | / | \\\n /                            / \\     \\ \\ / /.   .\n|                            | ==========  - -\n \\____________________________\\_/     / / \\ \\    /\n   ______________________________   / |\\  | /  .\n  /                            / \\     \\ \\ / /\n |                            | ==========  -  - -\n  \\____________________________\\_/     / / \\ \\\n                                     .  / | \\  .\n\n  Are you trying to wreak havoc!?!\n\n  "+t+"\n\n  Idiot.\n\n  "}function et(t,e,n,r,i){(new $7a810e3c2659655f3f90e80889df5f3d$importAsync$d50ec9bd83946c9131f31ac61e133c98$FBXLoader).load(t,(function(t){n&&function(t,e){var n=Math.pow(10,-10);t.traverse((function(t){t instanceof M.Mesh&&(t.geometry.computeBoundingSphere(),t.geometry&&t.geometry.boundingSphere&&t.geometry.boundingSphere.radius>n&&(n=t.geometry.boundingSphere.radius))}));var r=e/n;t.scale.set(r,r,r)}(t,n),r&&function(t){var e=(new M.Box3).setFromObject(t).getCenter(new M.Vector3).toArray(),n=e[0],r=e[1],i=e[2],o=t.position.clone().toArray(),a=o[0],s=o[1],c=o[2];t.position.set(a-n,s-r,c-i)}(t),i&&function(t){t.traverse((function(t){"Mesh"===t.type&&(t.castShadow=!0,t.receiveShadow=!0)}))}(t),e(t)}),(function(t){console.log(t.loaded/t.total*100+"% loaded")}),(function(t){console.log("Loading error occurred:",t.message)}))}function nt(t){var e=K({width:"100%",height:"100%",backgroundColor:"grey"},t),n=e.width,r=e.height,i=e.backgroundColor,o="this-id-will-never-be-duplicated-says-007";return F.useEffect((function(){return rt(o),function(){console.log("Widget app removed!!!")}}),[]),F.createElement("div",{id:o,style:{width:n,height:r,backgroundColor:i}})}function rt(t){if(void 0===t&&(t="threejs-canvas-container"),!document.getElementById(t))throw new Error("Can't find div of id "+t);new W(t).init()}function it(){var t,i;A={},Object.defineProperty(A,"__esModule",{value:!0}),M=r,F=(t=k)&&"object"==typeof t&&"default"in t?t.default:t,function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new j(r||[]);return o._invoke=function(t,e,n){var r=_;return function(i,o){if(r===l)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===_)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=l;var c=h(t,e,n);if("normal"===c.type){if(r=n.done?f:p,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var _="suspendedStart",p="suspendedYield",l="executing",f="completed",d={};function y(){}function v(){}function m(){}var w={};w[o]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==n&&r.call(b,o)&&(w=b);var E=m.prototype=y.prototype=Object.create(w);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,s){var c=h(t[i],t,o);if("throw"!==c.type){var u=c.arg,_=u.value;return _&&"object"==typeof _&&r.call(_,"__await")?e.resolve(_.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(_).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function L(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function G(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(G,this),this.reset(!0)}function C(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:e,done:!0}}return v.prototype=E.constructor=m,m.constructor=v,v.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},x(k.prototype),k.prototype[a]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(E),c(E,s,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(i={exports:{}},i.exports),H=i.exports,V={aspectRatio:2,fieldOfView:60,nearPlane:.1,farPlane:13500},R=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this._containerId=t,this._isWorldFlippable=e,this._scene=new M.Scene,this._canvas=document.createElement("canvas"),this._clock=new M.Clock(!1),this._initialViewingVector=new M.Vector3(10,10,10),this._isSceneReady=!1,this._isInit=!1,this._fps=60,this._camera=new M.PerspectiveCamera(V.fieldOfView,V.aspectRatio,V.nearPlane,V.farPlane),this._sceneEntities=[],this.updateCamera=function(){},this.preInitHook=function(){},this.postInitHook=function(){},this._render=function(){n._fps?setTimeout((function(){n._requestAnimationFrameId=requestAnimationFrame(n._render),n.update()}),1e3/n._fps):(n._requestAnimationFrameId=requestAnimationFrame(n._render),n.update())},this._stopRendering=function(){n._requestAnimationFrameId&&(cancelAnimationFrame(n._requestAnimationFrameId),n._requestAnimationFrameId=void 0)}}var r=t.prototype;return r.init=function(){var t=J(H.mark((function t(){var r,i,o=this;return H.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isInit){t.next=2;break}return t.abrupt("return");case 2:if(this._isInit=!0,this.preInitHook(),r=document.getElementById(this._containerId)){t.next=7;break}throw new Error("No container found with id: "+this._containerId);case 7:if(this._canvas.style.width="100%",this._canvas.style.height="100%",r.append(this._canvas),i=window.devicePixelRatio?window.devicePixelRatio:1,this._renderer=new M.WebGLRenderer({canvas:this._canvas,antialias:!0,alpha:!0}),this._renderer.setPixelRatio(i),this._renderer.sortObjects=!1,this._renderer.shadowMap.enabled=!0,this._renderer.shadowMap.type=M.PCFSoftShadowMap,this._renderer.outputEncoding=M.GammaEncoding,this._camera.position.copy(this._initialViewingVector),this._camera.up=new M.Vector3(0,0,1),this._camera.lookAt(0,0,0),this._orbitControls=this._isWorldFlippable?new e(this._camera,this._renderer.domElement):new n(this._camera,this._renderer.domElement),!(this._orbitControls instanceof n)){t.next=26;break}this._orbitControls.enableDamping=!0,this._orbitControls.dampingFactor=.25,t.next=34;break;case 26:if(!(this._orbitControls instanceof e)){t.next=33;break}this._orbitControls.rotateSpeed=10,this._orbitControls.zoomSpeed=1.2,this._orbitControls.panSpeed=.8,this._orbitControls.keys=["65","83","68"],t.next=34;break;case 33:throw Error("Poor Logic");case 34:if(this._sceneEntities.length){t.next=36;break}throw new Error(tt("You have no scene entities!"));case 36:return t.next=38,Promise.all(this._sceneEntities.map(function(){var t=J(H.mark((function t(e){var n;return H.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:if((n=t.sent)&&n.children.length){t.next=5;break}throw new Error(tt('\n            -----------------------------------------------------------------------------\n            The scene entity "'+e.constructor.name+'" has empty sceneEntityGroup\n            after initialization!!!\n            -----------------------------------------------------------------------------\n            '));case 5:return o._scene.add(n),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 38:this.setHelpersVisibility(!1),this.updateCameraAspect(),this._clock.start(),this._render(),this.postInitHook();case 43:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.addSceneEntities=function(t){var e=this;t.forEach((function(t){return e._sceneEntities.push(t)}))},r.update=function(){var t,e=this._clock?this._clock.getElapsedTime():0;if(this._sceneEntities.forEach((function(t){return t.update(e)})),this.updateCamera(e),null==(t=this._orbitControls)||t.update(),!this._camera||!this._renderer)throw new Error("Poor Logic");this._renderer.render(this._scene,this._camera)},r.setHelpersVisibility=function(t){this._scene.traverse((function(e){return e.userData.isHelper&&(e.visible=t)}))},r.updateCameraAspect=function(){this._canvas.style.width="100%",this._canvas.style.height="100%";var t=this._canvas.offsetWidth||1,e=this._canvas.offsetHeight||1;this._camera.aspect=t/e,this._camera.updateProjectionMatrix(),this._renderer.setSize(t,e)},t}(),q=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).update=function(t){e._sceneEntityGroup.rotateY(0*t+.001)},e}return U(e,t),e.prototype.init=function(){var t=J(H.mark((function t(){var e=this;return H.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){et("https://d-w-d.github.io/tsdx-threejs-react-boilerplate/images/low-poly-well.fbx",(function(n){e._sceneEntityGroup.add(n),e._sceneEntityGroup.rotateX(Math.PI/2);var r=new M.BoxHelper(n,16776960);r.userData.isHelper=!0,e._sceneEntityGroup.add(r);var i=new M.Mesh(new M.SphereGeometry(1),new M.MeshPhongMaterial({color:"white",opacity:.5}));i.userData.isHelper=!0,e._sceneEntityGroup.add(i),n.traverse((function(t){t.visible=!0;var n=new M.BoxHelper(t,16776960);n.userData.isHelper=!0,e._sceneEntityGroup.add(n)})),t(e._sceneEntityGroup)}),.05,!0,!0)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(T=function(){var t=this;this._sceneEntityGroup=new M.Group,this.getSceneEntityGroup=function(){return t._sceneEntityGroup}}),D=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).update=function(t){e._sceneEntityGroup.position.x+=0*t},e}return U(e,t),e.prototype.init=function(){var t=J(H.mark((function t(){var e=this;return H.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=new M.AxesHelper(500);n.userData.isHelper=!0,e._sceneEntityGroup.add(n),t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(T),N=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).update=function(t){e._sceneEntityGroup.position.x+=0*t},e}return U(e,t),e.prototype.init=function(){var t=J(H.mark((function t(){var e=this;return H.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){console.log(">>>>",M);var n=new M.AmbientLight(3355443,.3);n.userData.isAmbientLight=!0,e._sceneEntityGroup.add(n),t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(T),B=function(t){function e(e){var n;return(n=t.call(this)||this).sideLength=e,n.update=function(t){n._sceneEntityGroup.position.x+=0*t},n}return U(e,t),e.prototype.init=function(){var t=J(H.mark((function t(){var e=this;return H.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e._sceneEntityGroup.add(new M.Mesh(new M.BoxGeometry(e.sideLength,e.sideLength,e.sideLength),new M.MeshPhongMaterial)),e._sceneEntityGroup.position.z=-10,t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(T),z=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).update=function(t){e._sceneEntityGroup.position.x+=0*t},e}return U(e,t),e.prototype.init=function(){var t=J(H.mark((function t(){var e=this;return H.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=new M.DirectionalLight(16777215,1);n.position.set(10,10,10),n.lookAt(0,0,0),n.castShadow=!0,e._sceneEntityGroup.add(n);var r=new M.DirectionalLightHelper(n,5);r.userData.isHelper=!0,e._sceneEntityGroup.add(n),e._sceneEntityGroup.add(r),t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(T),W=function(t){function e(e){var n;return(n=t.call(this,e)||this).isRotating=!1,n.updateCamera=function(t){if(n.isRotating){var e=10*Math.sin(.5*t)+0,r=10*Math.cos(.5*t*2+Math.PI)+0,i=10*Math.sin(.5*t+.5*Math.PI)+0;n._camera.position.x=e,n._camera.position.y=r,n._camera.position.z=i;var o=new M.Vector3(0,0,-1);o.applyQuaternion(n._camera.quaternion),n._camera.up.copy(o),n._camera.lookAt(0,0,0)}},n.toggleRotation=function(){n.isRotating=!n.isRotating,n.isRotating?n._orbitControls.enabled=!1:(n._camera.position.copy(n._initialViewingVector),n._camera.up.copy(new M.Vector3(0,0,1)),n._orbitControls.enabled=!0)},n.addSceneEntities([new q,new D,new N,new B(1),new z]),n.preInitHook=function(){},n.postInitHook=function(){},n._initialViewingVector=new M.Vector3(6,15,9),n}return U(e,t),e}(R),Y=nt,A.TsdxThreejsTemplate=Y,X=rt,A.init=X}var ot={};"production"===process.env.NODE_ENV?(G||(G=!0,c={},Object.defineProperty(c,"__esModule",{value:!0}),u=r,_=(h=k)&&"object"==typeof h&&"default"in h?h.default:h,function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=Object.create((e&&e.prototype instanceof _?e:_).prototype),o=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=g(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,o),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function _(){}function p(){}function l(){}var f={};f[i]=function(){return this};var d=Object.getPrototypeOf,y=d&&d(d(k([])));y&&y!==e&&n.call(y,i)&&(f=y);var v=l.prototype=_.prototype=Object.create(f);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var h=c.arg,_=h.value;return _&&"object"==typeof _&&n.call(_,"__await")?e.resolve(_.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(_).then((function(t){h.value=t,a(h)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function g(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=v.constructor=l,l.constructor=p,p.displayName=s(l,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(w.prototype),w.prototype[o]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(v),s(v,a,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}((p={exports:{}}).exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(),l=p.exports,f=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this._containerId=t,this._isWorldFlippable=e,this._scene=new u.Scene,this._canvas=document.createElement("canvas"),this._clock=new u.Clock(!1),this._initialViewingVector=new u.Vector3(10,10,10),this._isSceneReady=!1,this._isInit=!1,this._fps=60,this._camera=new u.PerspectiveCamera(60,2,.1,13500),this._sceneEntities=[],this.updateCamera=function(){},this.preInitHook=function(){},this.postInitHook=function(){},this._render=function(){n._fps?setTimeout((function(){n._requestAnimationFrameId=requestAnimationFrame(n._render),n.update()}),1e3/n._fps):(n._requestAnimationFrameId=requestAnimationFrame(n._render),n.update())},this._stopRendering=function(){n._requestAnimationFrameId&&(cancelAnimationFrame(n._requestAnimationFrameId),n._requestAnimationFrameId=void 0)}}var r=t.prototype;return r.init=function(){var t=j(l.mark((function t(){var r,i,o=this;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isInit){t.next=2;break}return t.abrupt("return");case 2:if(this._isInit=!0,this.preInitHook(),r=document.getElementById(this._containerId)){t.next=7;break}throw new Error("No container found with id: "+this._containerId);case 7:if(this._canvas.style.width="100%",this._canvas.style.height="100%",r.append(this._canvas),i=window.devicePixelRatio?window.devicePixelRatio:1,this._renderer=new u.WebGLRenderer({canvas:this._canvas,antialias:!0,alpha:!0}),this._renderer.setPixelRatio(i),this._renderer.sortObjects=!1,this._renderer.shadowMap.enabled=!0,this._renderer.shadowMap.type=u.PCFSoftShadowMap,this._renderer.outputEncoding=u.GammaEncoding,this._camera.position.copy(this._initialViewingVector),this._camera.up=new u.Vector3(0,0,1),this._camera.lookAt(0,0,0),this._orbitControls=this._isWorldFlippable?new e(this._camera,this._renderer.domElement):new n(this._camera,this._renderer.domElement),!(this._orbitControls instanceof n)){t.next=26;break}this._orbitControls.enableDamping=!0,this._orbitControls.dampingFactor=.25,t.next=34;break;case 26:if(!(this._orbitControls instanceof e)){t.next=33;break}this._orbitControls.rotateSpeed=10,this._orbitControls.zoomSpeed=1.2,this._orbitControls.panSpeed=.8,this._orbitControls.keys=["65","83","68"],t.next=34;break;case 33:throw Error("Poor Logic");case 34:if(this._sceneEntities.length){t.next=36;break}throw new Error(S("You have no scene entities!"));case 36:return t.next=38,Promise.all(this._sceneEntities.map(function(){var t=j(l.mark((function t(e){var n;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:if((n=t.sent)&&n.children.length){t.next=5;break}throw new Error(S('\n            -----------------------------------------------------------------------------\n            The scene entity "'+e.constructor.name+'" has empty sceneEntityGroup\n            after initialization!!!\n            -----------------------------------------------------------------------------\n            '));case 5:return o._scene.add(n),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 38:this.setHelpersVisibility(!1),this.updateCameraAspect(),this._clock.start(),this._render(),this.postInitHook();case 43:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.addSceneEntities=function(t){var e=this;t.forEach((function(t){return e._sceneEntities.push(t)}))},r.update=function(){var t,e=this._clock?this._clock.getElapsedTime():0;if(this._sceneEntities.forEach((function(t){return t.update(e)})),this.updateCamera(e),null==(t=this._orbitControls)||t.update(),!this._camera||!this._renderer)throw new Error("Poor Logic");this._renderer.render(this._scene,this._camera)},r.setHelpersVisibility=function(t){this._scene.traverse((function(e){return e.userData.isHelper&&(e.visible=t)}))},r.updateCameraAspect=function(){this._canvas.style.width="100%",this._canvas.style.height="100%";var t=this._canvas.offsetWidth||1,e=this._canvas.offsetHeight||1;this._camera.aspect=t/e,this._camera.updateProjectionMatrix(),this._renderer.setSize(t,e)},t}(),y=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).update=function(e){t._sceneEntityGroup.rotateY(0*e+.001)},t}return I(n,e),n.prototype.init=function(){var e=j(l.mark((function e(){var n=this;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r;r=function(t){n._sceneEntityGroup.add(t),n._sceneEntityGroup.rotateX(Math.PI/2);var r=new u.BoxHelper(t,16776960);r.userData.isHelper=!0,n._sceneEntityGroup.add(r);var i=new u.Mesh(new u.SphereGeometry(1),new u.MeshPhongMaterial({color:"white",opacity:.5}));i.userData.isHelper=!0,n._sceneEntityGroup.add(i),t.traverse((function(t){t.visible=!0;var e=new u.BoxHelper(t,16776960);e.userData.isHelper=!0,n._sceneEntityGroup.add(e)})),e(n._sceneEntityGroup)},(new t).load("https://d-w-d.github.io/tsdx-threejs-react-boilerplate/images/low-poly-well.fbx",(function(t){(function(t,e){var n=Math.pow(10,-10);t.traverse((function(t){t instanceof u.Mesh&&(t.geometry.computeBoundingSphere(),t.geometry&&t.geometry.boundingSphere&&t.geometry.boundingSphere.radius>n&&(n=t.geometry.boundingSphere.radius))}));var r=.05/n;t.scale.set(r,r,r)})(t),function(t){var e=(new u.Box3).setFromObject(t).getCenter(new u.Vector3).toArray(),n=e[0],r=e[1],i=e[2],o=t.position.clone().toArray();t.position.set(o[0]-n,o[1]-r,o[2]-i)}(t),t.traverse((function(t){"Mesh"===t.type&&(t.castShadow=!0,t.receiveShadow=!0)})),r(t)}),(function(t){console.log(t.loaded/t.total*100+"% loaded")}),(function(t){console.log("Loading error occurred:",t.message)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(d=function(){var t=this;this._sceneEntityGroup=new u.Group,this.getSceneEntityGroup=function(){return t._sceneEntityGroup}}),v=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).update=function(t){e._sceneEntityGroup.position.x+=0*t},e}return I(e,t),e.prototype.init=function(){var t=j(l.mark((function t(){var e=this;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=new u.AxesHelper(500);n.userData.isHelper=!0,e._sceneEntityGroup.add(n),t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(d),m=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).update=function(t){e._sceneEntityGroup.position.x+=0*t},e}return I(e,t),e.prototype.init=function(){var t=j(l.mark((function t(){var e=this;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){console.log(">>>>",u);var n=new u.AmbientLight(3355443,.3);n.userData.isAmbientLight=!0,e._sceneEntityGroup.add(n),t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(d),w=function(t){function e(e){var n;return(n=t.call(this)||this).sideLength=e,n.update=function(t){n._sceneEntityGroup.position.x+=0*t},n}return I(e,t),e.prototype.init=function(){var t=j(l.mark((function t(){var e=this;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e._sceneEntityGroup.add(new u.Mesh(new u.BoxGeometry(e.sideLength,e.sideLength,e.sideLength),new u.MeshPhongMaterial)),e._sceneEntityGroup.position.z=-10,t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(d),g=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).update=function(t){e._sceneEntityGroup.position.x+=0*t},e}return I(e,t),e.prototype.init=function(){var t=j(l.mark((function t(){var e=this;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=new u.DirectionalLight(16777215,1);n.position.set(10,10,10),n.lookAt(0,0,0),n.castShadow=!0,e._sceneEntityGroup.add(n);var r=new u.DirectionalLightHelper(n,5);r.userData.isHelper=!0,e._sceneEntityGroup.add(n),e._sceneEntityGroup.add(r),t(e._sceneEntityGroup)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(d),b=function(t){function e(e){var n;return(n=t.call(this,e)||this).isRotating=!1,n.updateCamera=function(t){if(n.isRotating){var e=10*Math.sin(.5*t)+0,r=10*Math.cos(.5*t*2+Math.PI)+0,i=10*Math.sin(.5*t+.5*Math.PI)+0;n._camera.position.x=e,n._camera.position.y=r,n._camera.position.z=i;var o=new u.Vector3(0,0,-1);o.applyQuaternion(n._camera.quaternion),n._camera.up.copy(o),n._camera.lookAt(0,0,0)}},n.toggleRotation=function(){n.isRotating=!n.isRotating,n.isRotating?n._orbitControls.enabled=!1:(n._camera.position.copy(n._initialViewingVector),n._camera.up.copy(new u.Vector3(0,0,1)),n._orbitControls.enabled=!0)},n.addSceneEntities([new y,new v,new m,new w(1),new g]),n.preInitHook=function(){},n.postInitHook=function(){},n._initialViewingVector=new u.Vector3(6,15,9),n}return I(e,t),e}(f),a=function(t){var e=C({width:"100%",height:"100%",backgroundColor:"grey"},t),n=e.width,r=e.height,i=e.backgroundColor,o="this-id-will-never-be-duplicated-says-007";return _.useEffect((function(){return O(o),function(){console.log("Widget app removed!!!")}}),[]),_.createElement("div",{id:o,style:{width:n,height:r,backgroundColor:i}})},c.TsdxThreejsTemplate=a,s=O,c.init=s),ot=c):($||($=!0,it()),ot=A);E(L((()=>L("div",{className:""},L("h1",null,"Demo from parcelled react"),L(ot.TsdxThreejsTemplate,null))),null),document.getElementById("root"));
//# sourceMappingURL=index.44b3cad0.js.map
